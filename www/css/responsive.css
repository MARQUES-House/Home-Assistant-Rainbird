/* ===========================================
   DASHBOARD HOME ASSISTANT - RESPONSIVE
   Media queries pour différentes tailles d'écran
   =========================================== */

/* Smartphones - 1 colonne */
@media (max-width: 480px) {
    .dashboard-grid .section,
    .rooms-grid .room-card,
    .material-grid .material-card,
    .scenarios-grid .scenario-card {
        -webkit-flex: 0 0 calc(100% - 20px);
        -ms-flex: 0 0 calc(100% - 20px);
        flex: 0 0 calc(100% - 20px);
    }
    
    .header h1 {
        font-size: 1.5em;
    }
    
    .filter-tab {
        font-size: 0.8em;
        padding: 10px 6px;
    }
    
    .control-btn {
        min-width: 70px;
        min-height: 45px;
        padding: 12px 20px;
        font-size: 1em;
    }
    
    .cover-controls .control-btn {
        min-width: 50px;
        min-height: 45px;
        padding: 10px 15px;
        font-size: 1.2em;
    }
}

/* iPad Mini - 2 colonnes pour un meilleur confort */
@media (min-width: 481px) and (max-width: 1024px) {
    .dashboard-grid .section,
    .rooms-grid .room-card,
    .material-grid .material-card,
    .scenarios-grid .scenario-card {
        -webkit-flex: 0 0 calc(50% - 20px);
        -ms-flex: 0 0 calc(50% - 20px);
        flex: 0 0 calc(50% - 20px);
    }
    
    .header h1 {
        font-size: 1.7em;
    }
    
    .filter-tab {
        font-size: 0.9em;
        padding: 12px 8px;
    }
    
    /* Cartes plus hautes pour compenser la largeur */
    .room-card, .material-card, .scenario-card {
        min-height: 160px;
        padding: 30px;
    }
    
    .room-icon, .material-icon, .scenario-icon {
        font-size: 3em;
        margin-bottom: 15px;
    }
    
    .room-name, .material-name, .scenario-name {
        font-size: 1.2em;
        margin-bottom: 10px;
    }
    
    /* Boutons de contrôle adaptés iPad */
    .control-btn {
        min-width: 85px;
        min-height: 52px;
        padding: 16px 28px;
        font-size: 1.15em;
    }
    
    .cover-controls .control-btn {
        min-width: 60px;
        min-height: 50px;
        padding: 14px 20px;
        font-size: 1.4em;
    }
}

/* Tablettes en paysage */
@media (min-width: 481px) and (max-width: 1024px) and (orientation: landscape) {
    .filter-tabs {
        max-width: 600px;
    }
    
    .config-panel {
        max-width: 600px;
    }
    
    .entity {
        min-height: 65px;
        padding: 18px;
    }
    
    .entity-name {
        font-size: 1.05em;
    }
    
    .entity-state {
        font-size: 0.9em;
    }
}

/* Grands écrans - 3 colonnes */
@media (min-width: 1025px) {
    .dashboard-grid .section,
    .rooms-grid .room-card,
    .material-grid .material-card,
    .scenarios-grid .scenario-card {
        -webkit-flex: 0 0 calc(33.333% - 20px);
        -ms-flex: 0 0 calc(33.333% - 20px);
        flex: 0 0 calc(33.333% - 20px);
    }
    
    .header h1 {
        font-size: 2em;
    }
    
    .filter-tab {
        font-size: 1em;
        padding: 14px 10px;
    }
}

/* Très grands écrans - 4 colonnes */
@media (min-width: 1400px) {
    .dashboard-grid .section,
    .rooms-grid .room-card,
    .material-grid .material-card,
    .scenarios-grid .scenario-card {
        -webkit-flex: 0 0 calc(25% - 20px);
        -ms-flex: 0 0 calc(25% - 20px);
        flex: 0 0 calc(25% - 20px);
    }
}

/* Écrans haute densité - Optimisations Retina */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
    .status-indicator {
        width: 12px;
        height: 12px;
    }
    
    .debug-panel {
        font-size: 0.8em;
    }
    
    .section-count {
        font-size: 0.85em;
        padding: 5px 10px;
    }
}

/* Mode sombre automatique (si supporté) */
@media (prefers-color-scheme: dark) {
    .entity {
        background: #2d3748;
        color: #e2e8f0;
    }
    
    .entity-name {
        color: #f7fafc;
    }
    
    .entity-state {
        color: #a0aec0;
    }
    
    .section {
        background: rgba(45, 55, 72, 0.95);
        color: #e2e8f0;
    }
    
    .section h3 {
        color: #f7fafc;
        border-bottom-color: #4a5568;
    }
}

/* Orientation portrait spécifique */
@media (orientation: portrait) {
    .cover-controls {
        -webkit-flex-direction: row;
        flex-direction: row;
        -webkit-justify-content: center;
        justify-content: center;
    }
    
    .climate-info {
        -webkit-flex-direction: column;
        flex-direction: column;
        gap: 5px;
    }
}

/* Orientation paysage spécifique */
@media (orientation: landscape) {
    .climate-info {
        -webkit-flex-direction: row;
        flex-direction: row;
        gap: 10px;
    }
}

/* Ajustements pour anciennes versions iOS */
@media screen and (-webkit-min-device-pixel-ratio: 1) {
    .entity:active,
    .control-btn:active,
    .room-card:active,
    .material-card:active,
    .scenario-card:active {
        -webkit-transform: scale(0.95) !important;
        transform: scale(0.95) !important;
    }
}

/* Écrans très petits (anciens smartphones) */
@media (max-width: 320px) {
    body {
        padding: 5px;
    }
    
    .header h1 {
        font-size: 1.3em;
    }
    
    .filter-tab {
        font-size: 0.75em;
        padding: 8px 4px;
    }
    
    .section {
        padding: 15px;
    }
    
    .entity {
        padding: 12px;
        min-height: 55px;
    }
    
    .control-btn {
        min-width: 65px;
        min-height: 42px;
        padding: 10px 18px;
        font-size: 0.9em;
    }
    
    .cover-controls .control-btn {
        min-width: 45px;
        min-height: 42px;
        padding: 8px 12px;
        font-size: 1.1em;
    }
    
    .room-card, .material-card, .scenario-card {
        min-height: 110px;
        padding: 20px;
    }
    
    .room-icon, .material-icon, .scenario-icon {
        font-size: 2em;
        margin-bottom: 8px;
    }
    
    .room-name, .material-name, .scenario-name {
        font-size: 1em;
        margin-bottom: 6px;
    }
    
    .room-info, .material-info, .scenario-info {
        font-size: 0.8em;
    }
}
# views/rooms.yaml - Page PiÃ¨ces
title: ğŸ  PiÃ¨ces
path: rooms
icon: mdi:floor-plan
cards:
  # SÃ©lecteur de piÃ¨ce
  - type: custom:mushroom-select-card
    entity: input_select.room_selection
    name: SÃ©lection de piÃ¨ce
    icon: mdi:floor-plan
    card_mod: &glass-style
      style: |
        ha-card {
          border-radius: 20px !important;
          backdrop-filter: blur(20px);
          background: rgba(255, 255, 255, 0.1) !important;
          border: 1px solid rgba(255, 255, 255, 0.2);
        }

  # Salon & SÃ©jour
  - type: conditional
    conditions:
      - entity: input_select.room_selection
        state: "salon"
    card:
      type: vertical-stack
      cards:
        - type: custom:mushroom-title-card
          title: ğŸ›‹ï¸ Salon & SÃ©jour
          subtitle: Zone de vie principale avec climatisation et volets
        - type: grid
          columns: 2
          cards:
            - type: custom:mushroom-climate-card
              entity: climate.entree_tv
              name: ğŸŒ¡ï¸ Climatisation Salon
              show_temperature_control: true
              collapsible_controls: true
              card_mod: *glass-style
            - type: entities
              title: ğŸªŸ Volets Salon
              entities:
                - entity: cover.fenetre_salon_gauche
                  name: FenÃªtre Gauche
                  secondary_info: last-changed
                - entity: cover.fenetre_salon_central
                  name: FenÃªtre Centrale
                  secondary_info: last-changed
                - entity: cover.fenetre_salon_dr
                  name: FenÃªtre Droite
                  secondary_info: last-changed
                - entity: cover.fenetre_salon_tv
                  name: FenÃªtre TV
                  secondary_info: last-changed
              card_mod: *glass-style
        - type: entities
          title: ğŸ’¡ Ã‰clairage & MÃ©dia
          entities:
            - entity: light.module_on_off
              name: Ã‰clairage GÃ©nÃ©ral
              secondary_info: last-changed
            - entity: media_player.samsung_6_series_65_ue65tu6905kxxc
              name: Samsung TV 65"
              secondary_info: last-changed
          card_mod: *glass-style
        - type: entities
          title: ğŸŒ¡ï¸ Informations Environnementales
          entities:
            - entity: sensor.entree_tv_temperature
              name: TempÃ©rature Actuelle
            - entity: sensor.entree_tv_humidite
              name: HumiditÃ©
          card_mod: *glass-style

  # Cuisine
  - type: conditional
    conditions:
      - entity: input_select.room_selection
        state: "cuisine"
    card:
      type: vertical-stack
      cards:
        - type: custom:mushroom-title-card
          title: ğŸ³ Cuisine
          subtitle: Espace culinaire avec Ã©lectromÃ©nager connectÃ©
        - type: grid
          columns: 2
          cards:
            - type: custom:mushroom-climate-card
              entity: climate.cuisine
              name: ğŸŒ¡ï¸ Climatisation Cuisine
              show_temperature_control: true
              collapsible_controls: true
              card_mod: *glass-style
            - type: entities
              title: ğŸªŸ Volets Cuisine
              entities:
                - entity: cover.fenetre_cuisine
                  name: FenÃªtre Jardin
                  secondary_info: last-changed
                - entity: cover.fenetre_cuisine_avant
                  name: FenÃªtre Rue
                  secondary_info: last-changed
              card_mod: *glass-style
        - type: grid
          columns: 2
          cards:
            - type: entities
              title: ğŸ½ï¸ Lave-vaisselle
              entities:
                - entity: sensor.lave_vaisselle_etat
                  name: Ã‰tat
                  secondary_info: last-changed
                - entity: sensor.lave_vaisselle_porte
                  name: Ã‰tat Porte
                - entity: sensor.lave_vaisselle_progression_du_programme
                  name: Progression
                - entity: switch.lave_vaisselle_demi_charge
                  name: Demi-charge
                - entity: switch.lave_vaisselle_hygiene_plus
                  name: HygiÃ¨ne+
              card_mod: *glass-style
            - type: entities
              title: ğŸ”¥ Table de Cuisson
              entities:
                - entity: sensor.table_de_cuisson_etat
                  name: Ã‰tat
                  secondary_info: last-changed
                - entity: switch.table_de_cuisson_securite_enfant
                  name: SÃ©curitÃ© Enfant
                - entity: number.table_de_cuisson_alarm_clock
                  name: Minuteur
              card_mod: *glass-style
        - type: entities
          title: ğŸŒ¡ï¸ Environnement Cuisine
          entities:
            - entity: sensor.cuisine_temperature
              name: TempÃ©rature
            - entity: sensor.cuisine_humidite
              name: HumiditÃ©
          card_mod: *glass-style

  # Chambre Parents
  - type: conditional
    conditions:
      - entity: input_select.room_selection
        state: "chambre_parents"
    card:
      type: vertical-stack
      cards:
        - type: custom:mushroom-title-card
          title: ğŸ›ï¸ Chambre Parents
          subtitle: Suite parentale avec climatisation et surveillance
        - type: grid
          columns: 2
          cards:
            - type: custom:mushroom-climate-card
              entity: climate.parents
              name: ğŸŒ¡ï¸ Climatisation Parents
              show_temperature_control: true
              collapsible_controls: true
              card_mod: *glass-style
            - type: entities
              title: ğŸªŸ Volets Suite
              entities:
                - entity: cover.fenetre_suite
                  name: FenÃªtre Suite
                  secondary_info: last-changed
                - entity: cover.fenetre_sdb_suite
                  name: FenÃªtre SdB Suite
                  secondary_info: last-changed
              card_mod: *glass-style
        - type: entities
          title: ğŸ‘ï¸ SÃ©curitÃ© & Surveillance
          entities:
            - entity: binary_sensor.ikea_of_sweden_vallhorn_wireless_motion_sensor_4
              name: Capteur Mouvement
              secondary_info: last-changed
            - entity: sensor.ikea_of_sweden_vallhorn_wireless_motion_sensor_batterie_4
              name: Batterie Capteur
            - entity: sensor.ikea_of_sweden_vallhorn_wireless_motion_sensor_eclairement_4
              name: LuminositÃ©
          card_mod: *glass-style
        - type: entities
          title: ğŸŒ¡ï¸ Confort & Environnement
          entities:
            - entity: sensor.parents_temperature
              name: TempÃ©rature
            - entity: sensor.parents_humidite
              name: HumiditÃ©
            - entity: binary_sensor.parents_air_quality_active
              name: QualitÃ© Air Active
            - entity: select.parents_air_quality_mode
              name: Mode QualitÃ© Air
          card_mod: *glass-style

  # Chambre Alex
  - type: conditional
    conditions:
      - entity: input_select.room_selection
        state: "chambre_alex"
    card:
      type: vertical-stack
      cards:
        - type: custom:mushroom-title-card
          title: ğŸ® Chambre Alex
          subtitle: Espace personnel avec climatisation et surveillance
        - type: grid
          columns: 2
          cards:
            - type: custom:mushroom-climate-card
              entity: climate.alex
              name: ğŸŒ¡ï¸ Climatisation Alex
              show_temperature_control: true
              collapsible_controls: true
              card_mod: *glass-style
            - type: entities
              title: ğŸªŸ Volets Alex
              entities:
                - entity: cover.fenetre_alex_jar
                  name: FenÃªtre Jardin
                  secondary_info: last-changed
                - entity: cover.fenetre_alex_rue
                  name: FenÃªtre Rue
                  secondary_info: last-changed
              card_mod: *glass-style
        - type: entities
          title: ğŸ‘ï¸ Surveillance
          entities:
            - entity: binary_sensor.ikea_of_sweden_vallhorn_wireless_motion_sensor_3
              name: Capteur Mouvement
              secondary_info: last-changed
            - entity: sensor.ikea_of_sweden_vallhorn_wireless_motion_sensor_batterie_3
              name: Batterie Capteur
            - entity: sensor.ikea_of_sweden_vallhorn_wireless_motion_sensor_eclairement_3
              name: LuminositÃ©
          card_mod: *glass-style
        - type: entities
          title: ğŸŒ¡ï¸ QualitÃ© de l'Air
          entities:
            - entity: sensor.alex_temperature
              name: TempÃ©rature
            - entity: sensor.alex_humidite
              name: HumiditÃ©
            - entity: binary_sensor.alex_air_quality_active
              name: QualitÃ© Air Active
            - entity: select.alex_air_quality_mode
              name: Mode QualitÃ© Air
          card_mod: *glass-style

  # Chambre AdÃ¨le
  - type: conditional
    conditions:
      - entity: input_select.room_selection
        state: "chambre_adele"
    card:
      type: vertical-stack
      cards:
        - type: custom:mushroom-title-card
          title: ğŸ§¸ Chambre AdÃ¨le
          subtitle: Chambre d'enfant avec climatisation et surveillance
        - type: grid
          columns: 2
          cards:
            - type: custom:mushroom-climate-card
              entity: climate.adele
              name: ğŸŒ¡ï¸ Climatisation AdÃ¨le
              show_temperature_control: true
              collapsible_controls: true
              card_mod: *glass-style
            - type: entities
              title: ğŸªŸ Volets AdÃ¨le
              entities:
                - entity: cover.fenetre_adele_arriere
                  name: FenÃªtre Jardin
                  secondary_info: last-changed
                - entity: cover.fenetre_adele_ru
                  name: FenÃªtre Rue
                  secondary_info: last-changed
              card_mod: *glass-style
        - type: entities
          title: ğŸ‘ï¸ Surveillance
          entities:
            - entity: binary_sensor.ikea_of_sweden_vallhorn_wireless_motion_sensor_2
              name: Capteur Mouvement
              secondary_info: last-changed
            - entity: sensor.ikea_of_sweden_vallhorn_wireless_motion_sensor_batterie_2
              name: Batterie Capteur
            - entity: sensor.ikea_of_sweden_vallhorn_wireless_motion_sensor_eclairement_2
              name: LuminositÃ©
          card_mod: *glass-style
        - type: entities
          title: ğŸŒ¡ï¸ Confort
          entities:
            - entity: sensor.adele_temperature
              name: TempÃ©rature
            - entity: sensor.adele_humidite
              name: HumiditÃ©
            - entity: select.adele_air_quality_mode
              name: Mode QualitÃ© Air
          card_mod: *glass-style

  # Bureau
  - type: conditional
    conditions:
      - entity: input_select.room_selection
        state: "bureau"
    card:
      type: vertical-stack
      cards:
        - type: custom:mushroom-title-card
          title: ğŸ’¼ Bureau
          subtitle: Espace de travail avec surveillance et climatisation
        - type: grid
          columns: 2
          cards:
            - type: custom:mushroom-climate-card
              entity: climate.bureau
              name: ğŸŒ¡ï¸ Climatisation Bureau
              show_temperature_control: true
              collapsible_controls: true
              card_mod: *glass-style
            - type: entities
              title: ğŸªŸ Volet Bureau
              entities:
                - entity: cover.fenetre_bureau
                  name: FenÃªtre Bureau
                  secondary_info: last-changed
              card_mod: *glass-style
        - type: entities
          title: ğŸ‘ï¸ Surveillance
          entities:
            - entity: binary_sensor.ikea_of_sweden_vallhorn_wireless_motion_sensor
              name: Capteur Mouvement
              secondary_info: last-changed
            - entity: sensor.ikea_of_sweden_vallhorn_wireless_motion_sensor_batterie
              name: Batterie Capteur
            - entity: sensor.ikea_of_sweden_vallhorn_wireless_motion_sensor_eclairement
              name: LuminositÃ©
          card_mod: *glass-style
        - type: entities
          title: ğŸŒ¡ï¸ Environnement de Travail
          entities:
            - entity: sensor.bureau_temperature
              name: TempÃ©rature
            - entity: sensor.bureau_humidite
              name: HumiditÃ©
            - entity: select.bureau_air_quality_mode
              name: Mode QualitÃ© Air
          card_mod: *glass-style

  # ContrÃ´les globaux rapides
  - type: horizontal-stack
    cards:
      - type: custom:button-card
        name: ğŸŒ¡ï¸ Climat Auto
        icon: mdi:thermostat-auto
        tap_action:
          action: call-service
          service: input_select.select_option
          service_data:
            entity_id: input_select.mode_clim
            option: "Auto"
        styles:
          card:
            - height: 80px
            - border-radius: 15px
            - background: rgba(33, 150, 243, 0.1)
            - border: 1px solid rgba(33, 150, 243, 0.3)
          name:
            - font-size: 12px
          icon:
            - width: 24px
            - height: 24px
      - type: custom:button-card
        name: ğŸªŸ Ouvrir Volets
        icon: mdi:window-shutter-open
        tap_action:
          action: call-service
          service: cover.open_cover
          service_data:
            entity_id: cover.tous_les_volets
        styles:
          card:
            - height: 80px
            - border-radius: 15px
            - background: rgba(255, 193, 7, 0.1)
            - border: 1px solid rgba(255, 193, 7, 0.3)
          name:
            - font-size: 12px
          icon:
            - width: 24px
            - height: 24px
      - type: custom:button-card
        name: ğŸªŸ Fermer Volets
        icon: mdi:window-shutter
        tap_action:
          action: call-service
          service: cover.close_cover
          service_data:
            entity_id: cover.tous_les_volets
        styles:
          card:
            - height: 80px
            - border-radius: 15px
            - background: rgba(68, 115, 158, 0.1)
            - border: 1px solid rgba(68, 115, 158, 0.3)
          name:
            - font-size: 12px
          icon:
            - width: 24px
            - height: 24px
      - type: custom:button-card
        name: ğŸš¨ Ã‰tat SÃ©curitÃ©
        icon: mdi:shield-check
        tap_action:
          action: fire-dom-event
          browser_mod:
            service: browser_mod.popup
            data:
              title: "ğŸ›¡ï¸ Ã‰tat de la SÃ©curitÃ©"
              content:
                type: entities
                entities:
                  - alarm_control_panel.virtual_alarm
                  - binary_sensor.ikea_of_sweden_vallhorn_wireless_motion_sensor
                  - binary_sensor.ikea_of_sweden_vallhorn_wireless_motion_sensor_2
                  - binary_sensor.ikea_of_sweden_vallhorn_wireless_motion_sensor_3
                  - binary_sensor.ikea_of_sweden_vallhorn_wireless_motion_sensor_4
        styles:
          card:
            - height: 80px
            - border-radius: 15px
            - background: rgba(76, 175, 80, 0.1)
            - border: 1px solid rgba(76, 175, 80, 0.3)
          name:
            - font-size: 12px
          icon:
            - width: 24px
            - height: 24px

  # Navigation rapide
  - type: horizontal-stack
    cards:
      - type: custom:button-card
        name: ğŸ  Accueil
        icon: mdi:home
        tap_action:
          action: navigate
          navigation_path: "/lovelace-ios/home"
        styles: &nav-style
          card:
            - height: 60px
            - border-radius: 15px
            - background: rgba(255, 255, 255, 0.1)
            - border: 1px solid rgba(255, 255, 255, 0.2)
          name:
            - font-size: 12px
          icon:
            - width: 24px
            - height: 24px
      - type: custom:button-card
        name: ğŸ”§ MatÃ©riel
        icon: mdi:tools
        tap_action:
          action: navigate
          navigation_path: "/lovelace-ios/equipment"
        styles: *nav-style
      - type: custom:button-card
        name: ğŸŒ³ ExtÃ©rieur
        icon: mdi:nature
        tap_action:
          action: navigate
          navigation_path: "/lovelace-ios/outdoor"
        styles: *nav-style
      - type: custom:button-card
        name: ğŸ“Š SystÃ¨me
        icon: mdi:monitor-dashboard
        tap_action:
          action: navigate
          navigation_path: "/lovelace-ios/system"
        styles: *nav-style

# views/outdoor.yaml - Page Ext√©rieur (Version Simplifi√©e)
title: üå≥ Ext√©rieur
path: outdoor
icon: mdi:nature
cards:
  # M√©t√©o locale avec pr√©visions
  - type: weather-forecast
    entity: weather.forecast_maison
    name: M√©t√©o Nogent-sur-Marne
    show_forecast: true
    forecast_type: daily
    card_mod: &glass-style
      style: |
        ha-card {
          border-radius: 20px !important;
          backdrop-filter: blur(20px);
          background: rgba(255, 255, 255, 0.1) !important;
          border: 1px solid rgba(255, 255, 255, 0.2);
        }

  # Informations m√©t√©o d√©taill√©es
  - type: vertical-stack
    cards:
      - type: custom:mushroom-title-card
        title: üå§Ô∏è Conditions M√©t√©orologiques
        subtitle: Informations d√©taill√©es pour Nogent-sur-Marne
      - type: grid
        columns: 2
        cards:
          - type: entities
            title: üå°Ô∏è Temp√©rature & Humidit√©
            entities:
              - entity: weather.forecast_maison
                name: Temp√©rature Actuelle
                secondary_info: last-changed
                attribute: temperature
              - entity: weather.forecast_maison
                name: Humidit√©
                attribute: humidity
              - entity: weather.forecast_maison
                name: Point de Ros√©e
                attribute: dew_point
              - entity: weather.forecast_maison
                name: Indice UV
                attribute: uv_index
            card_mod: *glass-style
          - type: entities
            title: üí® Vent & Pression
            entities:
              - entity: weather.forecast_maison
                name: Vitesse du Vent
                attribute: wind_speed
              - entity: weather.forecast_maison
                name: Direction du Vent
                attribute: wind_bearing
              - entity: weather.forecast_maison
                name: Pression Atmosph√©rique
                attribute: pressure
              - entity: weather.forecast_maison
                name: Visibilit√©
                attribute: visibility
            card_mod: *glass-style
    card_mod: *glass-style

  # √âclairage ext√©rieur disponible
  - type: vertical-stack
    cards:
      - type: custom:mushroom-title-card
        title: üí° √âclairage Ext√©rieur
        subtitle: Contr√¥le des √©clairages cam√©ras et s√©curit√©
      - type: entities
        title: üé• √âclairage Cam√©ras de S√©curit√©
        entities:
          - entity: light.none_camera_1
            name: üå≥ √âclairage Cam√©ra Jardin
            secondary_info: last-changed
          - entity: light.none_camera_1_2
            name: üö™ √âclairage Cam√©ra Entr√©e
            secondary_info: last-changed
          - entity: switch.camera_camera_shutter
            name: üîí Obturateur Cam√©ra 1
            secondary_info: last-changed
          - entity: switch.camera_camera_shutter_2
            name: üîí Obturateur Cam√©ra 2
            secondary_info: last-changed
        card_mod: *glass-style
      - type: horizontal-stack
        cards:
          - type: custom:button-card
            name: üåÖ Mode Jour
            icon: mdi:weather-sunny
            tap_action:
              action: call-service
              service: light.turn_off
              service_data:
                entity_id:
                  - light.none_camera_1
                  - light.none_camera_1_2
            styles:
              card:
                - height: 80px
                - border-radius: 15px
                - background: rgba(255, 193, 7, 0.1)
                - border: 1px solid rgba(255, 193, 7, 0.3)
              name:
                - font-size: 12px
              icon:
                - width: 24px
                - height: 24px
          - type: custom:button-card
            name: üåô Mode Nuit
            icon: mdi:weather-night
            tap_action:
              action: call-service
              service: light.turn_on
              service_data:
                entity_id:
                  - light.none_camera_1
                  - light.none_camera_1_2
            styles:
              card:
                - height: 80px
                - border-radius: 15px
                - background: rgba(68, 115, 158, 0.1)
                - border: 1px solid rgba(68, 115, 158, 0.3)
              name:
                - font-size: 12px
              icon:
                - width: 24px
                - height: 24px
          - type: custom:button-card
            name: üîí S√©curit√© ON
            icon: mdi:shield-check
            tap_action:
              action: call-service
              service: switch.turn_off
              service_data:
                entity_id:
                  - switch.camera_camera_shutter
                  - switch.camera_camera_shutter_2
            styles:
              card:
                - height: 80px
                - border-radius: 15px
                - background: rgba(76, 175, 80, 0.1)
                - border: 1px solid rgba(76, 175, 80, 0.3)
              name:
                - font-size: 12px
              icon:
                - width: 24px
                - height: 24px
          - type: custom:button-card
            name: üîì Intimit√©
            icon: mdi:shield-off
            tap_action:
              action: call-service
              service: switch.turn_on
              service_data:
                entity_id:
                  - switch.camera_camera_shutter
                  - switch.camera_camera_shutter_2
            styles:
              card:
                - height: 80px
                - border-radius: 15px
                - background: rgba(244, 67, 54, 0.1)
                - border: 1px solid rgba(244, 67, 54, 0.3)
              name:
                - font-size: 12px
              icon:
                - width: 24px
                - height: 24px
    card_mod: *glass-style

  # Informations r√©seau et connectivit√©
  - type: vertical-stack
    cards:
      - type: custom:mushroom-title-card
        title: üåê Connectivit√© & R√©seau
        subtitle: √âtat de la Freebox et connexions ext√©rieures
      - type: grid
        columns: 2
        cards:
          - type: entities
            title: üì° Freebox v9
            entities:
              - entity: device_tracker.freebox_v9_r1
                name: √âtat Freebox
                secondary_info: last-changed
              - entity: binary_sensor.freebox_v9_r1_etat_du_reseau_etendu_wan
                name: Connexion WAN
                secondary_info: last-changed
              - entity: switch.freebox_wifi
                name: WiFi Freebox
                secondary_info: last-changed
              - entity: sensor.freebox_v9_r1_ip_externe
                name: IP Externe
            card_mod: *glass-style
          - type: entities
            title: üìä D√©bit Internet
            entities:
              - entity: sensor.freebox_download_speed
                name: ‚¨áÔ∏è T√©l√©chargement
              - entity: sensor.freebox_upload_speed
                name: ‚¨ÜÔ∏è T√©l√©versement
              - entity: sensor.freebox_temperature_cpu_0
                name: Temp√©rature CPU
              - entity: sensor.freebox_missed_calls
                name: Appels Manqu√©s
            card_mod: *glass-style
      - type: entities
        title: üì± Appareils Connect√©s
        entities:
          - entity: device_tracker.iphone_9
            name: üì± iPhone (MARQUES)
            secondary_info: last-changed
          - entity: device_tracker.samsung
            name: üì∫ Samsung TV
            secondary_info: last-changed
          - entity: device_tracker.imx6ull14x14evk
            name: üñ•Ô∏è Syst√®me Local
            secondary_info: last-changed
          - entity: sensor.iphone_ssid
            name: WiFi iPhone
        card_mod: *glass-style
    card_mod: *glass-style

  # Actions rapides ext√©rieur
  - type: horizontal-stack
    cards:
      - type: custom:button-card
        name: üí° Tout √âteindre
        icon: mdi:lightbulb-off
        tap_action:
          action: call-service
          service: light.turn_off
          service_data:
            entity_id: all
        styles:
          card:
            - height: 80px
            - border-radius: 15px
            - background: rgba(244, 67, 54, 0.1)
            - border: 1px solid rgba(244, 67, 54, 0.3)
          name:
            - font-size: 12px
          icon:
            - width: 24px
            - height: 24px
      - type: custom:button-card
        name: üîÑ Reboot Freebox
        icon: mdi:restart
        tap_action:
          action: call-service
          service: button.press
          service_data:
            entity_id: button.reboot_freebox
        confirmation:
          text: "Red√©marrer la Freebox ?"
        styles:
          card:
            - height: 80px
            - border-radius: 15px
            - background: rgba(255, 152, 0, 0.1)
            - border: 1px solid rgba(255, 152, 0, 0.3)
          name:
            - font-size: 12px
          icon:
            - width: 24px
            - height: 24px
      - type: custom:button-card
        name: üå°Ô∏è Climat
        icon: mdi:thermostat
        tap_action:
          action: navigate
          navigation_path: "/lovelace-ios/home"
        styles:
          card:
            - height: 80px
            - border-radius: 15px
            - background: rgba(33, 150, 243, 0.1)
            - border: 1px solid rgba(33, 150, 243, 0.3)
          name:
            - font-size: 12px
          icon:
            - width: 24px
            - height: 24px
      - type: custom:button-card
        name: üè† Volets
        icon: mdi:window-shutter
        tap_action:
          action: fire-dom-event
          browser_mod:
            service: browser_mod.popup
            data:
              title: "ü™ü Contr√¥le Volets"
              content:
                type: entities
                entities:
                  - cover.tous_les_volets
                  - cover.volets_chambres_2
                  - cover.volets_rdc_2
        styles:
          card:
            - height: 80px
            - border-radius: 15px
            - background: rgba(103, 58, 183, 0.1)
            - border: 1px solid rgba(103, 58, 183, 0.3)
          name:
            - font-size: 12px
          icon:
            - width: 24px
            - height: 24px

  # Navigation rapide
  - type: horizontal-stack
    cards:
      - type: custom:button-card
        name: üè† Accueil
        icon: mdi:home
        tap_action:
          action: navigate
          navigation_path: "/lovelace-ios/home"
        styles: &nav-style
          card:
            - height: 60px
            - border-radius: 15px
            - background: rgba(255, 255, 255, 0.1)
            - border: 1px solid rgba(255, 255, 255, 0.2)
          name:
            - font-size: 12px
          icon:
            - width: 24px
            - height: 24px
      - type: custom:button-card
        name: üîß Mat√©riel
        icon: mdi:tools
        tap_action:
          action: navigate
          navigation_path: "/lovelace-ios/equipment"
        styles: *nav-style
      - type: custom:button-card
        name: üè† Pi√®ces
        icon: mdi:floor-plan
        tap_action:
          action: navigate
          navigation_path: "/lovelace-ios/rooms"
        styles: *nav-style
      - type: custom:button-card
        name: üìä Syst√®me
        icon: mdi:monitor-dashboard
        tap_action:
          action: navigate
          navigation_path: "/lovelace-ios/system"
        styles: *nav-style
